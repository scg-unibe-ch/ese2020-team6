@import '../../../../variables.scss';
@import './stagable.component.theme.scss';

.stagable {
  height: 100%;
  width: 100%;

  display: grid;
  grid-template-rows: auto 1fr;
  grid-gap: $spaceing-xs;
  position: relative;

  .error-message {
    position: absolute;
    height: 100%;
    width: 100%;
    z-index: 100;
    top: 5px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .stages-wrapper {
    overflow: hidden;

    .stages {
      width: 100%;
      height: 100%;
      display: grid;
      grid-template-columns: repeat(4, 100%);
      grid-column-gap: $spaceing-xl;
      transition: all .3s ease-in-out;

      @for $size from 2 through $stages-max-size {
        &.size-#{$size} {

          @for $stage from 0 through $size {
            &.stage-#{$stage} {
              transform: translateX(calc(-#{$stage} * (100% + #{$spaceing-xl})));
            }
          }
        }
      }
    }
  }
}

@each $theme-name in $theme-names {
  @include stagable-theme($theme-name);
}
